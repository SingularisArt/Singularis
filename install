#!/usr/bin/python3.10

import argparse

import scripts.install.core.all as core_all
import scripts.install.core.config as core_config
import scripts.install.core.local as core_local
import scripts.install.core.packages as core_packages

import scripts.install.settings.settings as settings_settings
import scripts.install.settings.set_distro as settings_distro

import scripts.install.libraries.npm as libraries_npm
import scripts.install.libraries.python as libraries_python

import scripts.install.log.log as log_log

import scripts.install.extra.describe as extra_describe

import scripts.install.list.list_configs as list_configs
import scripts.install.list.list_local as list_local
import scripts.install.list.list_distros as list_distros


def parse_arguments(args):
    if args.all:
        core_all.main()
    if args.set_distro:
        settings_distro.main()
    if args.config:
        core_config.main()
    if args.local:
        core_local.main()
    if args.packages:
        core_packages.main()
    if args.settings:
        settings_settings.main()
    if args.npm:
        libraries_npm.main()
    if args.python:
        libraries_python.main()
    if args.log:
        log_log.main()
    if args.describe:
        extra_describe.main()
    if args.list_configs:
        list_configs.main()
    if args.list_local:
        list_local.main()
    if args.list_distros:
        list_distros.main()


def main():
    argparse.ArgumentParser()
    parser = argparse.ArgumentParser(
        formatter_class=argparse.RawTextHelpFormatter
    )

    parser.add_argument(
        '-a', '--all',
        help='''Installs everything. It will setup

1. All the required packages.
2. All the configurations.
3. All the required settings.
4. All the required npm libraries.
5. All the required python libraries.

Please, when running this command, be careful because you can wipe out all of
your hard work with my crappy work. To be safe, please check read this section
of the README: https://github.com/SingularisArt/Singularis#warning.

''',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-s', '--set-distro',
        help='''Change the default distro (Arch).

If you run `./install --set-distro ubuntu`, you'll change the default distro to
    Ubuntu.
It's important to note that if you use this command, you have to make it the
    first command like so: `./install --set-distro kali --all`.

Run `./install --list-distros` to see the full list of supported distros.

''',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-c', '--config',
        help='''Installs individual configurations.

If you run `./install --config`, it'll install all the configurations.
If you run `./install --config dotfiles`, it'll install only my dotfiles.
If you run `./install --config ^dotfiles`, it'll install everything except the
    dotfiles.

Run `./install --list-configs` to see the full list of arguments.

''',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-l', '--local',
        help='''Install all the required scripts and application data.

If you run `./install --local bin`, it'll install all the required scripts.
If you run `./install --local bin ani-cli`, it'll install only the ani-cli
    script.
If you run `./install --local bin ^ani-cli`, it'll install everything except
    the ani-cli script.
If you run `./install --local share`, it'll install all application data.
If you run `./install --local share castero`, it'll install only the
    application data for castero.
If you run `./install --local share ^castero`, it'll install everything except
    the application data for castero.
If you run `./install --local`, it'll install both.

''',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-p', '--packages',
        help='''Install all the required packages.

''',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-S', '--settings',
        help='''Execute the required settings.

''',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-n', '--npm',
        help='''Install the required npm libraries.

''',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-P', '--python',
        help='''Install the required python libraries.

''',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-o', '--log',
        help='''Change the log level.

''',
        default=False,
        action='store_true',
    )

    parser.add_argument(
        '-d', '--describe',
        help='''Describe the given configurations.

If you run `./install --describe dotfiles`, describe the dotfiles.

Run `./install --list-configs` to see the full list of arguments.

''',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-C', '--list-configs',
        help='''List all available configurations.

''',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-L', '--list-local',
        help='''List all scripts and application data that will be installed.

''',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-D', '--list-distros',
        help='''List all supported distros.

''',
        default=False,
        action='store_true',
    )

    args = parser.parse_args()

    parse_arguments(args)


if __name__ == '__main__':
    main()
